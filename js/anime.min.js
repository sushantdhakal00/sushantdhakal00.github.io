!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():t.anime=n()}(this,(function(){var t,n,e,r={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},a="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),o={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||o.svg(t)},num:function(t){return!isNaN(parseInt(t))},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nul:function(t){return"null"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return o.hex(t)||o.rgb(t)||o.hsl(t)}},u=(n={},e={Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t,n){if(0===t||1===t)return t;var e=1-Math.min(n,998)/1e3,r=t/1-1;return-Math.pow(2,10*r)*Math.sin(2*(r-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var n,e=4;t<((n=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*n-2)/22-t,2)}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(t,n){e[t]=function(t){return Math.pow(t,n+2)}})),Object.keys(e).forEach((function(t){var r=e[t];n["easeIn"+t]=r,n["easeOut"+t]=function(t,n){return 1-r(1-t,n)},n["easeInOut"+t]=function(t,n){return.5>t?r(2*t,n)/2:1-r(-2*t+2,n)/2},n["easeOutIn"+t]=function(t,n){return.5>t?(1-r(1-2*t,n))/2:(r(2*t-1,n)+1)/2}})),n.linear=function(t){return t},n),i=function(t){return o.str(t)?t:t+""},s=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},c=function(t){if(o.col(t))return!1;try{return document.querySelectorAll(t)}catch(t){return!1}},f=function(t){return t.reduce((function(t,n){return t.concat(o.arr(n)?f(n):n)}),[])},l=function(t){return o.arr(t)?t:(o.str(t)&&(t=c(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])},d=function(t,n){return t.some((function(t){return t===n}))},p=function(t){return t.filter((function(t,n,e){return e.indexOf(t)===n}))},m=function(t){var n,e={};for(n in t)e[n]=t[n];return e},h=function(t,n){for(var e in n)t[e]=o.und(t[e])?n[e]:t[e];return t},g=function(t){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(t)[2]},v=function(t,n,e){return g(n)?n:-1<t.indexOf("translate")?g(e)?n+g(e):n+"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?n+"deg":n},y=function(t,n){if(n in t.style)return getComputedStyle(t).getPropertyValue(s(n))||"0"},b=function(t,n){return o.dom(t)&&d(a,n)?"transform":o.dom(t)&&(t.getAttribute(n)||o.svg(t)&&t[n])?"attribute":o.dom(t)&&"transform"!==n&&y(t,n)?"css":o.nul(t[n])||o.und(t[n])?void 0:"object"},x=function(t,n){switch(b(t,n)){case"transform":return function(t,n){var e=-1<n.indexOf("scale")?1:0,r=t.style.transform;if(!r)return e;for(var a=/(\w+)\((.+?)\)/g,o=[],u=[],i=[];o=a.exec(r);)u.push(o[1]),i.push(o[2]);return r=i.filter((function(t,e){return u[e]===n})),r.length?r[0]:e}(t,n);case"css":return y(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0},w=function(t,n,e){return o.col(n)?(n=o.rgb(n)?n:o.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,n,e,r){return n+n+e+e+r+r}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgb("+(t=parseInt(n[1],16))+","+parseInt(n[2],16)+","+(n=parseInt(n[3],16))+")"}(n):o.hsl(n)?function(t){t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t);var n=parseInt(t[1])/360,e=parseInt(t[2])/100,r=parseInt(t[3])/100;if(t=function(t,n,e){return 0>e&&(e+=1),1<e&&--e,e<1/6?t+6*(n-t)*e:.5>e?n:e<2/3?t+(n-t)*(2/3-e)*6:t},0==e)e=r=n=r;else{var a=.5>r?r*(1+e):r+e-r*e,o=2*r-a;e=t(o,a,n+1/3),r=t(o,a,n),n=t(o,a,n-1/3)}return"rgb("+255*e+","+255*r+","+255*n+")"}(n):void 0,n):g(n)?n:(!(t=g(t.to)?g(t.to):g(t.from))&&e&&(t=g(e)),t?n+t:n)},M=function(t){var n=/-?\d*\.?\d+/g;return{original:t,numbers:i(t).match(n)?i(t).match(n).map(Number):[0],strings:i(t).split(n)}},O=function(t,n,e,r){return"transform"===e?(e=t+"("+v(t,n.from,n.to)+")",n=t+"("+v(t,n.to)+")"):(t="css"===e?y(r,t):void 0,e=w(n,n.from,t),n=w(n,n.to,t)),{from:M(e),to:M(n)}},k=function(t,n){var e=function(t,n){var e=[];return t.forEach((function(r,a){var u=r.target;return n.forEach((function(n){var i=b(u,n.name);if(i){var s;s=n.name;var c=n.value;s={from:1<(c=l(o.fnc(c)?c(u,a):c)).length?c[0]:x(u,s),to:1<c.length?c[1]:c[0]},(c=m(n)).animatables=r,c.type=i,c.from=O(n.name,s,c.type,u).from,c.to=O(n.name,s,c.type,u).to,c.round=o.col(s.from)||c.round?1:0,c.delay=(o.fnc(c.delay)?c.delay(u,a,t.length):c.delay)/$.speed,c.duration=(o.fnc(c.duration)?c.duration(u,a,t.length):c.duration)/$.speed,e.push(c)}}))})),e}(t,n);return function(t,n){var e={};return t.forEach((function(t){var r=JSON.stringify(n.map((function(n){return t[n]})));e[r]=e[r]||[],e[r].push(t)})),Object.keys(e).map((function(t){return e[t]}))}(e,["name","from","to","delay","duration"]).map((function(t){var n=m(t[0]);return n.animatables=t.map((function(t){return t.animatables})),n.totalDuration=n.delay+n.duration,n}))},E=function(t,n){t.tweens.forEach((function(e){var r=e.from,a=t.duration-(e.delay+e.duration);e.from=e.to,e.to=r,n&&(e.delay=a)})),t.reversed=!t.reversed},I=function(t){var n=[],e=[];return t.tweens.forEach((function(t){"css"!==t.type&&"transform"!==t.type||(n.push("css"===t.type?s(t.name):"transform"),t.animatables.forEach((function(t){e.push(t.target)})))})),{properties:p(n).join(", "),elements:p(e)}},A=function(t,n){var e=Math.min(Math.max(n-t.delay,0),t.duration)/t.duration,r=t.to.numbers.map((function(n,r){var a=t.from.numbers[r],o=u[t.easing](e,t.elasticity);a=t.path?function(t,n){var e=t.path,r=t.value*n,a=(u=function(a){return a=a||0,e.getPointAtLength(1<n?t.value+a:r+a)})(),o=u(-1),u=u(1);switch(t.name){case"translateX":return a.x;case"translateY":return a.y;case"rotate":return 180*Math.atan2(u.y-o.y,u.x-o.x)/Math.PI}}(t,o):a+o*(n-a);return t.round?Math.round(a*t.round)/t.round:a}));return function(t,n,e){return n.reduce((function(n,r,a){return r=r||e[a-1],n+t[a-1]+r}))}(r,t.to.strings,t.from.strings)},j=function(n,e){var r;n.currentTime=e,n.progress=e/n.duration*100;for(var a=0;a<n.tweens.length;a++){var o=n.tweens[a];o.currentValue=A(o,e);for(var u=o.currentValue,i=0;i<o.animatables.length;i++){var s=(c=o.animatables[i]).id,c=c.target,f=o.name;switch(o.type){case"css":c.style[f]=u;break;case"attribute":c.setAttribute(f,u);break;case"object":c[f]=u;break;case"transform":r||(r={}),r[s]||(r[s]=[]),r[s].push(u)}}}if(r)for(a in t||(t=(y(document.body,"transform")?"":"-webkit-")+"transform"),r)n.animatables[a].target.style[t]=r[a].join(" ");n.settings.update&&n.settings.update(n)},P=function(t){var n={};n.animatables=function(t){return(t=t?f(o.arr(t)?t.map(l):l(t)):[]).map((function(t,n){return{target:t,id:n}}))}(t.targets),n.settings=h(t,r);var e,a=n.settings,u=[];for(e in t)if(!r.hasOwnProperty(e)&&"targets"!==e){var i=o.obj(t[e])?m(t[e]):{value:t[e]};i.name=e,u.push(h(i,a))}return n.properties=u,n.tweens=k(n.animatables,n.properties),n.duration=function(t){if(t.length)return Math.max.apply(Math,t.map((function(t){return t.totalDuration})))}(n.tweens)||t.duration,n.currentTime=0,n.progress=0,n.ended=!1,n},C=[],S=0,T=function(){var t=function(){S=requestAnimationFrame(n)},n=function(n){if(C.length){for(var e=0;e<C.length;e++)C[e].tick(n);t()}else cancelAnimationFrame(S),S=0};return t}(),$=function(t){var n=P(t),e={};return n.tick=function(t){n.ended=!1,e.start||(e.start=t),e.current=Math.min(Math.max(e.last+t-e.start,0),n.duration),j(n,e.current);var r=n.settings;r.begin&&e.current>=r.delay&&(r.begin(n),r.begin=void 0),e.current>=n.duration&&(r.loop?(e.start=t,"alternate"===r.direction&&E(n,!0),o.num(r.loop)&&r.loop--):(n.ended=!0,n.pause(),r.complete&&r.complete(n)),e.last=0)},n.seek=function(t){j(n,t/100*n.duration)},n.pause=function(){!function(t){I(t).elements.forEach((function(t){t.style.removeProperty("will-change")}))}(n);var t=C.indexOf(n);-1<t&&C.splice(t,1)},n.play=function(t){n.pause(),t&&(n=h(P(h(t,n.settings)),n)),e.start=0,e.last=n.ended?0:n.currentTime,"reverse"===(t=n.settings).direction&&E(n),"alternate"!==t.direction||t.loop||(t.loop=1),function(t){var n=I(t);n.elements.forEach((function(t){t.style.willChange=n.properties}))}(n),C.push(n),S||T()},n.restart=function(){n.reversed&&E(n),n.pause(),n.seek(0),n.play()},n.settings.autoplay&&n.play(),n};return $.version="1.1.1",$.speed=1,$.list=C,$.remove=function(t){t=f(o.arr(t)?t.map(l):l(t));for(var n=C.length-1;0<=n;n--)for(var e=C[n],r=e.tweens,a=r.length-1;0<=a;a--)for(var u=r[a].animatables,i=u.length-1;0<=i;i--)d(t,u[i].target)&&(u.splice(i,1),u.length||r.splice(a,1),r.length||e.pause())},$.easings=u,$.getValue=x,$.path=function(t){return{path:t=o.str(t)?c(t)[0]:t,value:t.getTotalLength()}},$.random=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},$}));
